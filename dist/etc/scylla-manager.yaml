# Scylla Manager config YAML

# Bind REST API to the specified TCP address using HTTP protocol.
http: 127.0.0.1:5080

# Bind REST API to the specified TCP address using HTTPS protocol.
#https: 127.0.0.1:5443

# Version of TLS protocol and cipher suites to use with HTTPS.
# The supported versions are: TLSv1.3, TLSv1.2, TLSv1.0.
# The TLSv1.2 is restricted to the following cipher suites:
# ECDHE-ECDSA-WITH-AES-128-GCM-SHA256, ECDHE-RSA-WITH-AES-128-GCM-SHA256,
# ECDHE-ECDSA-WITH-AES-256-GCM-SHA384, ECDHE-RSA-WITH-AES-256-GCM-SHA384,
# ECDHE-ECDSA-WITH-CHACHA20-POLY1305, ECDHE-RSA-WITH-CHACHA20-POLY1305.
# The TLSv1.0 should never be used as it's deprecated.
#tls_mode: TLSv1.2

# TLS certificate and key files to use with HTTPS. The files must contain PEM
# encoded data. If not set a self-signed certificate will be generated,
# the certificate is valid for 1 year after start and uses EC P256 private key.
#tls_cert_file:
#tls_key_file:
#
# CA to validate client certificates, if set client must present a certificate
# signed by the CA.
#tls_ca_file:

# Bind prometheus API to the specified TCP address using HTTP protocol.
# By default it binds to all network interfaces but you can restrict it
# by specifying it like this 127:0.0.1:5090 or any other combination
# of ip and port.
#prometheus: ':5090'

# Debug server that allows to run pporf profiling on demand on a live system.
#debug: 127.0.0.1:5112

# Logging configuration.
#logger:
# Where to print logs, stderr or stdout.
#  mode: stderr
# How much logs to print, available levels are: error, info, debug.
#  level: info
# Sampling reduces number of logs by not printing duplicated log entries within
# a second. The first N (initial) entries with a given level and message are
# printed. If more entries with the same level and message are seen during
# the same interval, every Mth (thereafter) message is logged and the rest is
# dropped.
#  sampling:
#    initial:
#    thereafter:

# Scylla Manager database, used to store management data.
#database:
#  hosts:
#    - 127.0.0.1
#
# Enable or disable client/server encryption.
#  ssl: false
#
# Database credentials.
#  user: user
#  password: password
#
# Local datacenter name, specify if using a remote, multi-dc cluster.
#  local_dc:
#
# Keyspace for management data.
#  keyspace: scylla_manager
#  replication_factor: 1
#
# Query timeout.
#  timeout: 1s
#
# Should we use a token aware driver, this would make manager access appropriate
# host and shard to execute a request eliminating request routing.
#  token_aware: true

# Optional custom client/server encryption options.
#ssl:
# CA certificate used to validate server cert. If not set will use he host's root CA set.
#  cert_file:
#
# Verify the hostname and server cert.
#  validate: true
#
# Client certificate and key in PEM format. It has to be provided when
# client_encryption_options.require_client_auth=true is set on server.
#  user_cert_file:
#  user_key_file

# Health-check service configuration.
#healthcheck:
# relative_timeout specifies timeout over median ping duration in probes.
# The number of probes kept in memory is specified by the probes parameter.
# There are separate probes for different DCs and ping types
# (CQL, REST, Alternator).
#  relative_timeout: 50ms
# max_timeout specifies maximum ping timeout, zero means no limit.
#  max_timeout: 30s
# Probes specifies how many probes are kept in memory for calculation.
# For different ping types and datacenters there are different probe sets.
#  probes: 200

# Backup service configuration.
#backup:
# Minimal amount of free disk space required to take a snapshot.
#  disk_space_free_min_percent: 10
#
# Maximal time for backup run to be considered fresh and can be continued from
# the same snapshot. If exceeded, new run with new snapshot will be created.
# Zero means no limit.
#  age_max: 12h

# Repair service configuration.
#repair:
# Frequency Scylla Manager poll Scylla node for repair command status.
#  poll_interval: 50ms
#
# Maximal time a paused repair is considered fresh and can be continued,
# if exceeded repair will start from the beginning. Zero means no limit.
#  age_max: 0
#
# Specifies how long repair will wait until all ongoing repair requests finish
# when repair task is stopped. After this time, task will be interrupted.
#  graceful_stop_timeout: 30s
#
# Force usage of certain type of repair algorithm. Allowed values are row_level, legacy, and auto.
# row_level means that Scylla Manager will use row level repair optimised algorithm.
# legacy means that Scylla Manager will be splitting ranges to shards when making repair requests.
# Default value is auto which means that repair type will be auto detected based on Scylla versions in the managed cluster.
#  force_repair_type: auto
#
# Distribution of data among cores (shards) within a node.
# Copy value from Scylla configuration file.
#  murmur3_partitioner_ignore_msb_bits: 12

# Connection configuration to Scylla Agent.
#  agent_client:
#
# Timeouts configuration.
#    timeout: 30s
#    max_timeout: 1h
#    list_timeout: 5m
#
# Connection backoff configuration.
#    backoff:
#      wait_min: 1s
#      wait_max: 30s
#      max_retries: 9
#      multiplier: 2
#      jitter: 0.2
#    interactive_backoff:
#      wait_min: 1s
#      max_retries: 1
#
# Time window to measure average request time in host pool.
#    pool_decay_duration: 30m
